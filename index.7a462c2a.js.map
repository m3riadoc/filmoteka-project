{"mappings":"A,S,E,C,C,C,C,C,C,C,E,O,c,C,E,E,C,I,E,I,E,W,C,E,a,C,C,E,C,I,E,W,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,I,E,E,Q,C,E,Q,S,C,C,C,E,E,E,O,C,W,I,E,A,G,E,GCEA,IAgBA,EAhBI,EAAU,IAAI,IAgBlB,EAfA,SAAkB,CAAO,CAAE,CAAQ,EACjC,IAAK,IAAI,EAAI,EAAG,EAAI,EAAS,MAAM,CAAG,EAAG,GAAK,EAC5C,EAAQ,GAAG,CAAC,CAAQ,CAAC,EAAE,CAAE,CACvB,QAAS,EACT,KAAM,CAAQ,CAAC,EAAI,EAAE,AACvB,EAEJ,C,G,E,Q,S,C,C,C,ECVA,IAAM,EAAc,SAAS,aAAa,CAAC,iBAiC3C,SAAS,EAAkB,CAAK,EACZ,EAAe,GAE/B,EAAY,WAAW,CAAG,oBAE1B,EAAY,WAAW,CAAG,cAE9B,CAEA,SAAS,IAEP,IAAM,EAAY,eAAe,OAAO,CADrB,gBAEnB,OAAO,EAAY,KAAK,KAAK,CAAC,GAAa,IAC7C,CAQA,SAAS,EAAe,CAAK,EAE3B,MAAO,AADa,CAAA,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,WAAa,EAAE,AAAF,EAC5C,IAAI,CAAC,AAAA,GAAQ,EAAK,EAAE,GAAK,EAAM,EAAE,CACxD,CAQA,SAAS,EAAoB,CAAO,EAClC,IAAM,EAAe,SAAS,aAAa,CAAC,OAC5C,EAAa,SAAS,CAAC,GAAG,CAAC,gBAC3B,EAAa,WAAW,CAAG,EAC3B,SAAS,IAAI,CAAC,WAAW,CAAC,GAC1B,WAAW,KACT,EAAa,MAAM,EACrB,EAAG,IACL,CAvEA,OAAO,gBAAgB,CAAC,OAAQ,KAC9B,IAAM,EAAQ,IACV,GACF,EAAkB,EAEtB,GAEA,EAAY,gBAAgB,CAAC,QAAS,SAoDhC,EAZA,EAvCJ,IAAM,EAAQ,IACV,IACG,EAAe,I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","sources":["<anon>","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","src/js/add-to-queue.js","src/js/add-to-watched.js","src/js/pagination.js","node_modules/@parcel/runtime-js/lib/runtime-5a260c472613e174.js","src/js/modal-one-film.js","node_modules/@parcel/runtime-js/lib/runtime-c2217699a4590bc2.js"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequired7c6\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequired7c6\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"ifJdc\", function(module, exports) {\n\n$parcel$export(module.exports, \"register\", () => $d49cb2d7b03f6a77$export$6503ec6e8aabbaf, (v) => $d49cb2d7b03f6a77$export$6503ec6e8aabbaf = v);\nvar $d49cb2d7b03f6a77$export$6503ec6e8aabbaf;\nvar $d49cb2d7b03f6a77$export$f7ad0328861e2f03;\n\"use strict\";\nvar $d49cb2d7b03f6a77$var$mapping = new Map();\nfunction $d49cb2d7b03f6a77$var$register(baseUrl, manifest) {\n    for(var i = 0; i < manifest.length - 1; i += 2)$d49cb2d7b03f6a77$var$mapping.set(manifest[i], {\n        baseUrl: baseUrl,\n        path: manifest[i + 1]\n    });\n}\nfunction $d49cb2d7b03f6a77$var$resolve(id) {\n    var resolved = $d49cb2d7b03f6a77$var$mapping.get(id);\n    if (resolved == null) throw new Error(\"Could not resolve bundle with id \" + id);\n    return new URL(resolved.path, resolved.baseUrl).toString();\n}\n$d49cb2d7b03f6a77$export$6503ec6e8aabbaf = $d49cb2d7b03f6a77$var$register;\n$d49cb2d7b03f6a77$export$f7ad0328861e2f03 = $d49cb2d7b03f6a77$var$resolve;\n\n});\n\nparcelRegister(\"5PtdM\", function(module, exports) {\nconst $43e861e6fa9e2259$var$queueButton = document.querySelector(\".queue-button\");\nwindow.addEventListener(\"load\", ()=>{\n    const movie = $43e861e6fa9e2259$var$getMovieDataFromSessionStorage();\n    if (movie) $43e861e6fa9e2259$var$updateQueueButton(movie);\n});\n$43e861e6fa9e2259$var$queueButton.addEventListener(\"click\", ()=>{\n    const movie = $43e861e6fa9e2259$var$getMovieDataFromSessionStorage();\n    if (movie) {\n        if (!$43e861e6fa9e2259$var$isMovieInQueue(movie)) {\n            if (!$43e861e6fa9e2259$var$isMovieInWatchedList(movie)) {\n                $43e861e6fa9e2259$var$addToQueue(movie);\n                $43e861e6fa9e2259$var$displayNotification(\"Movie added to queue.\");\n            } else $43e861e6fa9e2259$var$displayNotification(\"Movie already in watched list. Cannot add to queue.\");\n        } else {\n            $43e861e6fa9e2259$var$removeFromQueue(movie);\n            $43e861e6fa9e2259$var$displayNotification(\"Movie removed from queue.\");\n        }\n        $43e861e6fa9e2259$var$updateQueueButton(movie);\n    }\n});\nfunction $43e861e6fa9e2259$var$isMovieInWatchedList(movie) {\n    let moviesOnWatched = JSON.parse(localStorage.getItem(\"watched\")) || [];\n    return moviesOnWatched.some((item)=>item.id === movie.id);\n}\nfunction $43e861e6fa9e2259$var$updateQueueButton(movie) {\n    const isInQueue = $43e861e6fa9e2259$var$isMovieInQueue(movie);\n    if (isInQueue) $43e861e6fa9e2259$var$queueButton.textContent = \"Remove from Queue\";\n    else $43e861e6fa9e2259$var$queueButton.textContent = \"Add to Queue\";\n}\nfunction $43e861e6fa9e2259$var$getMovieDataFromSessionStorage() {\n    const sessionKey = \"currentMovie\";\n    const movieData = sessionStorage.getItem(sessionKey);\n    return movieData ? JSON.parse(movieData) : null;\n}\nfunction $43e861e6fa9e2259$var$addToQueue(movie) {\n    let moviesOnQueue = JSON.parse(localStorage.getItem(\"queue\")) || [];\n    moviesOnQueue.push(movie);\n    localStorage.setItem(\"queue\", JSON.stringify(moviesOnQueue));\n}\nfunction $43e861e6fa9e2259$var$isMovieInQueue(movie) {\n    let moviesOnQueue = JSON.parse(localStorage.getItem(\"queue\")) || [];\n    return moviesOnQueue.some((item)=>item.id === movie.id);\n}\nfunction $43e861e6fa9e2259$var$removeFromQueue(movie) {\n    let moviesOnQueue = JSON.parse(localStorage.getItem(\"queue\")) || [];\n    let updatedQueueList = moviesOnQueue.filter((item)=>item.id !== movie.id);\n    localStorage.setItem(\"queue\", JSON.stringify(updatedQueueList));\n}\nfunction $43e861e6fa9e2259$var$displayNotification(message) {\n    const notification = document.createElement(\"div\");\n    notification.classList.add(\"notification\");\n    notification.textContent = message;\n    document.body.appendChild(notification);\n    setTimeout(()=>{\n        notification.remove();\n    }, 3000);\n}\n\n});\n\nparcelRegister(\"3xRUa\", function(module, exports) {\nconst $294e448af5eedd63$var$watchedButton = document.querySelector(\".watched-button\");\nwindow.addEventListener(\"load\", ()=>{\n    const movie = $294e448af5eedd63$var$getMovieDataFromSessionStorage();\n    if (movie && $294e448af5eedd63$var$isMovieInWatchedList(movie)) $294e448af5eedd63$var$updateWatchedButton(movie);\n});\n$294e448af5eedd63$var$watchedButton.addEventListener(\"click\", ()=>{\n    const movie = $294e448af5eedd63$var$getMovieDataFromSessionStorage();\n    if (movie) {\n        if (!$294e448af5eedd63$var$isMovieInWatchedList(movie)) {\n            if (!$294e448af5eedd63$var$isMovieInQueue(movie)) {\n                $294e448af5eedd63$var$addToWatched(movie);\n                $294e448af5eedd63$var$displayNotification(\"Movie added to watched list.\");\n            } else $294e448af5eedd63$var$displayNotification(\"Movie already in queue. Cannot add to watched.\");\n        } else {\n            $294e448af5eedd63$var$removeFromWatched(movie);\n            $294e448af5eedd63$var$displayNotification(\"Movie removed from watched list.\");\n        }\n        $294e448af5eedd63$var$updateWatchedButton(movie);\n    }\n});\nfunction $294e448af5eedd63$var$isMovieInQueue(movie) {\n    let moviesOnQueue = JSON.parse(localStorage.getItem(\"queue\")) || [];\n    return moviesOnQueue.some((item)=>item.id === movie.id);\n}\nfunction $294e448af5eedd63$var$updateWatchedButton(movie) {\n    const isInWatched = $294e448af5eedd63$var$isMovieInWatchedList(movie);\n    if (isInWatched) $294e448af5eedd63$var$watchedButton.textContent = \"Remove from Watched\";\n    else $294e448af5eedd63$var$watchedButton.textContent = \"Add to Watched\";\n}\nfunction $294e448af5eedd63$var$getMovieDataFromSessionStorage() {\n    const sessionKey = \"currentMovie\";\n    const movieData = sessionStorage.getItem(sessionKey);\n    return movieData ? JSON.parse(movieData) : null;\n}\nfunction $294e448af5eedd63$var$addToWatched(movie) {\n    let moviesOnWatched = JSON.parse(localStorage.getItem(\"watched\")) || [];\n    moviesOnWatched.push(movie);\n    localStorage.setItem(\"watched\", JSON.stringify(moviesOnWatched));\n}\nfunction $294e448af5eedd63$var$isMovieInWatchedList(movie) {\n    let moviesOnWatched = JSON.parse(localStorage.getItem(\"watched\")) || [];\n    return moviesOnWatched.some((item)=>item.id === movie.id);\n}\nfunction $294e448af5eedd63$var$removeFromWatched(movie) {\n    let moviesOnWatched = JSON.parse(localStorage.getItem(\"watched\")) || [];\n    let updatedWatchedList = moviesOnWatched.filter((item)=>item.id !== movie.id);\n    localStorage.setItem(\"watched\", JSON.stringify(updatedWatchedList));\n}\nfunction $294e448af5eedd63$var$displayNotification(message) {\n    const notification = document.createElement(\"div\");\n    notification.classList.add(\"notification\");\n    notification.textContent = message;\n    document.body.appendChild(notification);\n    setTimeout(()=>{\n        notification.remove();\n    }, 3000);\n}\n\n});\n\nparcelRegister(\"g1uI7\", function(module, exports) {\n\n$parcel$export(module.exports, \"getMovieDetails\", () => $baa48fd5a30d32e8$export$e7daf9f9f7371f9a);\n\nvar $PP2np = parcelRequire(\"PP2np\");\nconst $baa48fd5a30d32e8$var$apiKey = \"ddd78f0e80e0d30735adfd081ca2dc47\";\nconst $baa48fd5a30d32e8$var$apiUrl = `https://api.themoviedb.org/3/movie/popular?api_key=${$baa48fd5a30d32e8$var$apiKey}`;\nconst $baa48fd5a30d32e8$var$loader = document.querySelector(\".loader\");\nconst $baa48fd5a30d32e8$var$footer = document.querySelector(\"footer\");\nlet $baa48fd5a30d32e8$var$currentSearchKeyword = \"\";\nasync function $baa48fd5a30d32e8$export$e7daf9f9f7371f9a(movieId) {\n    const url = `https://api.themoviedb.org/3/movie/${movieId}?api_key=${$baa48fd5a30d32e8$var$apiKey}&language=en-US`;\n    try {\n        const response = await fetch(url);\n        const data = await response.json();\n        return data;\n    } catch (error) {\n        return null;\n    }\n}\nasync function $baa48fd5a30d32e8$var$getPopularMovies(page = 1) {\n    const urlWithPage = `${$baa48fd5a30d32e8$var$apiUrl}&page=${page}`;\n    $baa48fd5a30d32e8$var$loader.classList.remove(\"hidden\");\n    $baa48fd5a30d32e8$var$footer.classList.add(\"hidden\");\n    try {\n        await new Promise((resolve)=>setTimeout(resolve, 500));\n        const response = await fetch(urlWithPage);\n        const data = await response.json();\n        const movies = data.results;\n        const detailedMovies = await Promise.all(movies.map(async (movie)=>{\n            const details = await $baa48fd5a30d32e8$export$e7daf9f9f7371f9a(movie.id);\n            return {\n                ...movie,\n                ...details\n            };\n        }));\n        $baa48fd5a30d32e8$var$loader.classList.add(\"hidden\");\n        $baa48fd5a30d32e8$var$footer.classList.remove(\"hidden\");\n        return {\n            movies: detailedMovies,\n            totalPages: data.total_pages\n        };\n    } catch (error) {\n        return {\n            movies: [],\n            totalPages: 0\n        };\n    }\n}\nfunction $baa48fd5a30d32e8$export$605b145a07818080(movie) {\n    const movieItem = document.createElement(\"div\");\n    movieItem.classList.add(\"movie-item\");\n    movieItem.style.cursor = \"pointer\";\n    movieItem.setAttribute(\"data-modal\", \"\");\n    movieItem.setAttribute(\"data-id\", movie.id);\n    const moviePoster = document.createElement(\"img\");\n    if (movie.poster_path) {\n        moviePoster.src = `https://image.tmdb.org/t/p/w500${movie.poster_path}`;\n        moviePoster.alt = movie.title;\n    } else {\n        moviePoster.src = (0, (/*@__PURE__*/$parcel$interopDefault($PP2np))); // jesli sciezka obrazu nie jest dostepna uzyj zimportowanego obrazu, Bartosz K\n        moviePoster.alt = \"no image\";\n    }\n    movieItem.appendChild(moviePoster);\n    const contentWrapper = document.createElement(\"div\"); // Nowy div z zawartością p, Bartosz K\n    contentWrapper.classList.add(\"content-wrapper\");\n    const movieTitle = document.createElement(\"h2\");\n    movieTitle.textContent = movie.title;\n    movieItem.appendChild(movieTitle);\n    const genreNames = movie.genres.map((genre)=>{\n        return genre.name === \"Science Fiction\" ? \"Sci-Fi\" : genre.name; // Warunek, aby w przypadku pełnej nazwy okrągło do skrótu, Bartosz K\n    });\n    let movieGenresText = \"\";\n    if (genreNames.length > 2) movieGenresText = `${genreNames.slice(0, 2).join(\", \")}, Other`; // Pokaż dwa pierwsze gatunki i dodaj \" + other\"\n    else movieGenresText = genreNames.join(\", \");\n    const movieGenres = document.createElement(\"p\");\n    movieGenres.textContent = movieGenresText;\n    contentWrapper.appendChild(movieGenres);\n    const movieYear = document.createElement(\"p\");\n    const releaseYear = new Date(movie.release_date).getFullYear();\n    movieYear.textContent = `| ${releaseYear}`; // Dodanie znaku \"|\" , Bartosz K\n    movieYear.classList.add(\"movie-year\");\n    contentWrapper.appendChild(movieYear);\n    movieItem.appendChild(contentWrapper);\n    const movieRating = document.createElement(\"p\");\n    const rating = movie.vote_average.toFixed(1);\n    movieRating.textContent = `${rating}`;\n    movieItem.appendChild(movieRating);\n    contentWrapper.appendChild(movieRating);\n    movieRating.classList.add(\"main-rating\"); // Dodaje klasę, aby schować element w głównym, Bartosz K\n    return movieItem;\n}\nfunction $baa48fd5a30d32e8$export$80c33a899040816b(movies) {\n    const filmList = document.querySelector(\".film-list\");\n    filmList.innerHTML = \"\";\n    const movieItems = movies.map((movie)=>$baa48fd5a30d32e8$export$605b145a07818080(movie));\n    filmList.append(...movieItems);\n}\nfunction $baa48fd5a30d32e8$var$scrollToTop() {\n    window.scrollTo({\n        top: 0,\n        behavior: \"smooth\"\n    }); // Funkcja przenosząca nas na góre strony (dodane w celu ulatwienia szukania filmow), Bartosz K\n}\n//Ładowanie filmow na stronie//\nasync function $baa48fd5a30d32e8$var$loadMoviesPage(page) {\n    if (!$baa48fd5a30d32e8$var$currentSearchKeyword) {\n        //jeśli nie istnieje wyszukiwana fraza\n        if (window.location.pathname === \"/my-library.html\") {\n            const movies = []; //w my-library nie laduj popularnych filmow (nie nadpisuje wtedy filmow watched i queue), Bartosz K\n            $baa48fd5a30d32e8$export$80c33a899040816b(movies);\n            $baa48fd5a30d32e8$var$scrollToTop();\n        } else {\n            const { movies: movies, totalPages: totalPages } = await $baa48fd5a30d32e8$var$getPopularMovies(page); //to ładuj popularne filmy, Bartosz K\n            $baa48fd5a30d32e8$export$80c33a899040816b(movies);\n            $baa48fd5a30d32e8$export$825408fbca4f2040(totalPages, page);\n            $baa48fd5a30d32e8$var$scrollToTop();\n        }\n    } else {\n        const { movies: movies, totalPages: totalPages } = await $baa48fd5a30d32e8$var$searchMovies($baa48fd5a30d32e8$var$currentSearchKeyword, page); // w przeciwnym razie wyszukuj filmy po wpisanej frazie, Bartosz K\n        $baa48fd5a30d32e8$export$80c33a899040816b(movies);\n        $baa48fd5a30d32e8$export$825408fbca4f2040(totalPages, page);\n        $baa48fd5a30d32e8$var$scrollToTop();\n    }\n}\nasync function $baa48fd5a30d32e8$var$main() {\n    if (window.location.pathname.includes(\"/index.html\") || window.location.pathname === \"/\" || window.location.href === \"https://kpiskorz27.github.io/goit-js-gp-filmoteka/\") $baa48fd5a30d32e8$var$loadMoviesPage(1);\n}\nwindow.addEventListener(\"load\", $baa48fd5a30d32e8$var$main);\nfunction $baa48fd5a30d32e8$export$825408fbca4f2040(totalPages, currentPage) {\n    const paginationContainer = document.querySelector(\".pagination\");\n    paginationContainer.innerHTML = \"\";\n    const isMobile = window.innerWidth < 768; // paginacja dla strony mobilnejm, Bartosz K\n    if (isMobile) {\n        let startPage = currentPage > 2 ? currentPage - 2 : 1;\n        let endPage = Math.min(startPage + 4, totalPages); // maksymalnie ma wyswietlac sie tylko 5 przyciskow, Bartosz K\n        if (totalPages <= 5) endPage = totalPages;\n        else if (currentPage > totalPages - 2) {\n            startPage = totalPages - 4;\n            endPage = totalPages;\n        }\n        const firstPageButton = document.createElement(\"button\");\n        firstPageButton.innerHTML = `\n      <svg class=\"icon icon-arrow-left\" viewBox=\"0 0 32 32\" width=\"18\" height=\"20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2.667\" d=\"M25.333 16H6.666M16 25.333 6.667 16 16 6.667\" style=\"stroke:var(--color2, #000)\"/>\n      </svg>\n    `;\n        firstPageButton.style.cursor = \"pointer\";\n        firstPageButton.classList.add(\"page-button\", \"first-button\");\n        if (currentPage > 1) firstPageButton.addEventListener(\"click\", ()=>{\n            $baa48fd5a30d32e8$var$loadMoviesPage(currentPage - 1);\n            $baa48fd5a30d32e8$var$toggleNotification(false);\n        });\n        paginationContainer.appendChild(firstPageButton);\n        for(let page = startPage; page <= endPage; page++){\n            const pageButton = document.createElement(\"button\");\n            pageButton.textContent = page;\n            pageButton.style.cursor = \"pointer\";\n            pageButton.classList.add(\"page-button\");\n            if (page === currentPage) pageButton.classList.add(\"active\");\n            pageButton.addEventListener(\"click\", ()=>{\n                $baa48fd5a30d32e8$var$loadMoviesPage(page);\n                $baa48fd5a30d32e8$var$toggleNotification(false);\n            });\n            paginationContainer.appendChild(pageButton);\n        }\n        if (endPage < totalPages) {\n            const lastPageButton = document.createElement(\"button\");\n            lastPageButton.innerHTML = `\n        <svg class=\"icon icon-arrow-right\" viewBox=\"0 0 32 32\" width=\"18\" height=\"20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2.667\" d=\"M6.667 16h18.667M16 25.333l9.333-9.333-9.333-9.333\" style=\"stroke:var(--color2, #000)\"/>\n        </svg>\n      `;\n            lastPageButton.classList.add(\"page-button\", \"last-button\");\n            lastPageButton.style.cursor = \"pointer\";\n            lastPageButton.addEventListener(\"click\", ()=>{\n                const nextPage = Math.min(currentPage + 1, totalPages);\n                $baa48fd5a30d32e8$var$loadMoviesPage(nextPage);\n                $baa48fd5a30d32e8$var$toggleNotification(false);\n            });\n            paginationContainer.appendChild(lastPageButton);\n        }\n    } else {\n        const visiblePages = 5;\n        const maxButtonsToShow = 1000;\n        const increment = 15;\n        let startPage = 1;\n        let endPage = Math.min(startPage + visiblePages - 1, totalPages);\n        if (totalPages > visiblePages) {\n            const half = Math.floor(visiblePages / 2);\n            startPage = Math.max(currentPage - half, 1);\n            endPage = startPage + visiblePages - 1;\n            if (endPage >= maxButtonsToShow) {\n                endPage = maxButtonsToShow;\n                startPage = Math.max(endPage - visiblePages + 1, 1);\n            }\n        }\n        const firstPageButton = document.createElement(\"button\");\n        firstPageButton.innerHTML = `\n    <svg class=\"icon icon-arrow-left\" viewBox=\"0 0 32 32\" width=\"18\" height=\"20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2.667\" d=\"M25.333 16H6.666M16 25.333 6.667 16 16 6.667\" style=\"stroke:var(--color2, #000)\"/>\n    </svg>\n`;\n        firstPageButton.style.cursor = \"pointer\";\n        firstPageButton.classList.add(\"page-button\", \"first-button\");\n        if (currentPage > 1) //sprawdza czy aktualna strona nie jest pierwsza strone, zapobiega loopowi, Bartosz K\n        firstPageButton.addEventListener(\"click\", ()=>{\n            $baa48fd5a30d32e8$var$loadMoviesPage(currentPage - 1);\n            $baa48fd5a30d32e8$var$toggleNotification(false);\n        });\n        paginationContainer.appendChild(firstPageButton);\n        if (startPage > 1) {\n            const firstPage = document.createElement(\"button\");\n            firstPage.textContent = 1;\n            firstPage.style.cursor = \"pointer\";\n            firstPage.classList.add(\"page-button\");\n            firstPage.addEventListener(\"click\", ()=>{\n                $baa48fd5a30d32e8$var$loadMoviesPage(1);\n                $baa48fd5a30d32e8$var$toggleNotification(false);\n            });\n            paginationContainer.appendChild(firstPage);\n            if (startPage > 2) {\n                const ellipsis1 = document.createElement(\"span\");\n                ellipsis1.textContent = \"...\";\n                ellipsis1.classList.add(\"ellipsis-span\");\n                paginationContainer.appendChild(ellipsis1);\n            }\n        }\n        for(let page = startPage; page <= endPage; page++){\n            const pageButton = document.createElement(\"button\");\n            pageButton.textContent = page;\n            pageButton.style.cursor = \"pointer\";\n            pageButton.classList.add(\"page-button\");\n            if (page === currentPage) pageButton.classList.add(\"active\");\n            pageButton.addEventListener(\"click\", ()=>{\n                $baa48fd5a30d32e8$var$loadMoviesPage(page);\n                $baa48fd5a30d32e8$var$toggleNotification(false);\n            });\n            paginationContainer.appendChild(pageButton);\n        }\n        if (endPage < totalPages) {\n            if (endPage < totalPages - 1) {\n                const ellipsis2 = document.createElement(\"span\");\n                ellipsis2.textContent = \"...\";\n                ellipsis2.classList.add(\"ellipsis-span\");\n                paginationContainer.appendChild(ellipsis2);\n            }\n            const lastPage = Math.min(endPage + increment, totalPages);\n            const lastPageButton = document.createElement(\"button\");\n            lastPageButton.style.cursor = \"pointer\";\n            lastPageButton.textContent = lastPage;\n            lastPageButton.classList.add(\"page-button\");\n            lastPageButton.addEventListener(\"click\", ()=>{\n                $baa48fd5a30d32e8$var$loadMoviesPage(lastPage);\n            });\n            paginationContainer.appendChild(lastPageButton);\n        }\n        const lastPageButton = document.createElement(\"button\");\n        lastPageButton.innerHTML = `\n      <svg class=\"icon icon-arrow-right\" viewBox=\"0 0 32 32\" width=\"18\" height=\"20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2.667\" d=\"M6.667 16h18.667M16 25.333l9.333-9.333-9.333-9.333\" style=\"stroke:var(--color2, #000)\"/>\n      </svg>\n  `;\n        lastPageButton.classList.add(\"page-button\", \"last-button\");\n        lastPageButton.style.cursor = \"pointer\";\n        lastPageButton.addEventListener(\"click\", ()=>{\n            const nextPage = Math.min(currentPage + 1, totalPages);\n            $baa48fd5a30d32e8$var$loadMoviesPage(nextPage);\n            $baa48fd5a30d32e8$var$toggleNotification(false);\n        });\n        paginationContainer.appendChild(lastPageButton);\n    }\n}\n//WYSZUKIWANIE FILMOW//\nconst $baa48fd5a30d32e8$var$filmContainer = document.querySelector(\".film-container\");\nasync function $baa48fd5a30d32e8$var$searchMovies(keyword, page = 1) {\n    const url = `https://api.themoviedb.org/3/search/movie?api_key=${$baa48fd5a30d32e8$var$apiKey}&query=${encodeURIComponent(keyword)}&page=${page}`;\n    try {\n        $baa48fd5a30d32e8$var$filmContainer.classList.add(\"hidden\");\n        $baa48fd5a30d32e8$var$footer.classList.add(\"hidden\");\n        $baa48fd5a30d32e8$var$loader.classList.remove(\"hidden\");\n        const response = await fetch(url);\n        const data = await response.json();\n        const movies = data.results;\n        const detailedMovies = await Promise.all(movies.map(async (movie)=>{\n            const details = await $baa48fd5a30d32e8$export$e7daf9f9f7371f9a(movie.id);\n            return {\n                ...movie,\n                ...details\n            };\n        }));\n        setTimeout(()=>{\n            $baa48fd5a30d32e8$var$loader.classList.add(\"hidden\");\n        }, 250);\n        setTimeout(()=>{\n            $baa48fd5a30d32e8$var$filmContainer.classList.remove(\"hidden\");\n            $baa48fd5a30d32e8$var$footer.classList.remove(\"hidden\");\n        }, 300);\n        return {\n            movies: detailedMovies,\n            totalPages: data.total_pages\n        };\n    } catch (error) {\n        return {\n            movies: [],\n            totalPages: 0\n        };\n    }\n}\nfunction $baa48fd5a30d32e8$var$toggleNotification(flag) {\n    const notifyEl = document.getElementById(\"error-message\");\n    if (flag) notifyEl.style.opacity = \"1\";\n    else notifyEl.style.opacity = \"0\";\n}\nasync function $baa48fd5a30d32e8$var$handleSearch(keyword, page = 1) {\n    $baa48fd5a30d32e8$var$currentSearchKeyword = keyword;\n    if (keyword.trim() === \"\") // jesli wyszukiwarka jest pusta, laduje popularne filmy,Bartosz K\n    await $baa48fd5a30d32e8$var$loadMoviesPage(page);\n    else {\n        const { movies: movies, totalPages: totalPages } = await $baa48fd5a30d32e8$var$searchMovies(keyword, page);\n        if (movies.length === 0) {\n            $baa48fd5a30d32e8$var$toggleNotification(true); // Pokazuje komunikat jesli nie znalazlo filmu, Bartosz K\n            $baa48fd5a30d32e8$var$currentSearchKeyword = \"\"; //odswieza wyszukiwanie po nacisnieciu na przycisk paginacji, Bartosz K\n            document.querySelector(\".search-input\").value = \"\"; // czysci wyszukiwarke z nieznalezionego tytulu, Bartosz K\n        } else {\n            $baa48fd5a30d32e8$var$toggleNotification(false);\n            $baa48fd5a30d32e8$export$80c33a899040816b(movies);\n            $baa48fd5a30d32e8$export$825408fbca4f2040(totalPages, page);\n        }\n    }\n}\nconst $baa48fd5a30d32e8$var$searchForm = document.querySelector(\".search-form\");\nif ($baa48fd5a30d32e8$var$searchForm) $baa48fd5a30d32e8$var$searchForm.addEventListener(\"submit\", function(event) {\n    event.preventDefault();\n    const keyword = document.querySelector(\".search-input\").value;\n    $baa48fd5a30d32e8$var$handleSearch(keyword, 1);\n});\n\n});\nparcelRegister(\"PP2np\", function(module, exports) {\nmodule.exports = new URL(\"no-poster-available.c6ce9600.jpg\", import.meta.url).toString();\n\n});\n\n\nparcelRegister(\"8sx2c\", function(module, exports) {\n\nvar $g1uI7 = parcelRequire(\"g1uI7\");\nconst $628a9036296bd1ac$var$movieModal = document.querySelector(\".movie-modal\");\nconst $628a9036296bd1ac$var$overlay = document.querySelector(\".movie-backdrop\");\nconst $628a9036296bd1ac$var$closeBtn = document.querySelector(\".modal-close-btn\");\nconst $628a9036296bd1ac$var$modalImg = document.querySelector(\".movie-image\");\nconst $628a9036296bd1ac$var$loaderModal = document.querySelector(\".loader_modal_container\");\nconst $628a9036296bd1ac$var$queueButton = document.querySelector(\".queue-button\");\nconst $628a9036296bd1ac$var$watchedButton = document.querySelector(\".watched-button\");\nasync function $628a9036296bd1ac$var$openModal(event) {\n    event.preventDefault();\n    setTimeout(()=>{\n        $628a9036296bd1ac$var$overlay.classList.remove(\"is-hidden\");\n        $628a9036296bd1ac$var$movieModal.classList.remove(\"is-hidden\");\n        $628a9036296bd1ac$var$loaderModal.classList.remove(\"hidden\");\n    }, 100);\n    $628a9036296bd1ac$var$closeBtn.addEventListener(\"click\", $628a9036296bd1ac$var$closeModal);\n}\nfunction $628a9036296bd1ac$var$closeModal(event) {\n    event.preventDefault();\n    $628a9036296bd1ac$var$overlay.classList.add(\"is-hidden\");\n    $628a9036296bd1ac$var$movieModal.classList.add(\"is-hidden\");\n    $628a9036296bd1ac$var$removeEventListeners();\n}\nfunction $628a9036296bd1ac$var$escExit(event) {\n    const escKey = \"Escape\";\n    if (event.code === escKey) $628a9036296bd1ac$var$closeModal(event);\n}\nfunction $628a9036296bd1ac$var$removeEventListeners() {\n    document.removeEventListener(\"keydown\", $628a9036296bd1ac$var$escExit);\n    $628a9036296bd1ac$var$overlay.removeEventListener(\"click\", $628a9036296bd1ac$var$closeModal);\n    $628a9036296bd1ac$var$closeBtn.removeEventListener(\"click\", $628a9036296bd1ac$var$closeModal);\n}\ndocument.addEventListener(\"click\", function(event) {\n    const target = event.target;\n    if (target.classList.contains(\"movie-backdrop\")) $628a9036296bd1ac$var$closeModal(event);\n});\nwindow.addEventListener(\"keydown\", $628a9036296bd1ac$var$escExit);\nfunction $628a9036296bd1ac$var$cardSelection() {\n    const allMovies = document.querySelectorAll(\".film-list\");\n    if (allMovies.length) allMovies.forEach((movie)=>{\n        movie.addEventListener(\"click\", function(event) {\n            const target = event.target.closest(\".movie-item\");\n            if (target) {\n                const movieId = target.dataset.id;\n                const cardPoster = target.querySelector(\"img\").getAttribute(\"src\");\n                $628a9036296bd1ac$var$modalImg.setAttribute(\"src\", cardPoster);\n                (0, $g1uI7.getMovieDetails)(movieId).then((movie)=>{\n                    const isInQueue = $628a9036296bd1ac$var$isMovieInQueue(movie);\n                    if (isInQueue) $628a9036296bd1ac$var$queueButton.textContent = \"Remove from Queue\";\n                    else $628a9036296bd1ac$var$queueButton.textContent = \"Add to Queue\";\n                    const isInWatched = $628a9036296bd1ac$var$isMovieInWatchedList(movie);\n                    if (isInWatched) $628a9036296bd1ac$var$watchedButton.textContent = \"Remove from Watched\";\n                    else $628a9036296bd1ac$var$watchedButton.textContent = \"Add to Watched\";\n                    $628a9036296bd1ac$var$saveMovieToSessionStorage(movie); // zapisuje film do sesji, Bartosz K\n                    $628a9036296bd1ac$var$movieModalData(movie);\n                    $628a9036296bd1ac$var$openModal(event);\n                    setTimeout(()=>{\n                        $628a9036296bd1ac$var$loaderModal.classList.add(\"hidden\");\n                    }, 500);\n                });\n            }\n        });\n    });\n    else setTimeout($628a9036296bd1ac$var$cardSelection, 1000);\n}\n$628a9036296bd1ac$var$cardSelection();\nfunction $628a9036296bd1ac$var$movieModalData(movie) {\n    const movieTitle = $628a9036296bd1ac$var$movieModal.querySelector(\".movie-title\");\n    const movieAverageRate = $628a9036296bd1ac$var$movieModal.querySelector(\".average-rate\");\n    const movieAllVote = $628a9036296bd1ac$var$movieModal.querySelector(\".total-vote\");\n    const moviePopularity = $628a9036296bd1ac$var$movieModal.querySelector(\".movie-popularity\");\n    const movieOriginalTitle = $628a9036296bd1ac$var$movieModal.querySelector(\".movie-original-title\");\n    const movieGenre = $628a9036296bd1ac$var$movieModal.querySelector(\".movie-genre\");\n    const movieAbout = $628a9036296bd1ac$var$movieModal.querySelector(\".movie-about-par\");\n    const genres = movie.genres.map((genre)=>genre.name).join(\", \");\n    movieGenre.textContent = genres;\n    movieTitle.textContent = movie.title;\n    movieAllVote.innerHTML = `<span class=\"movie-average-rate\">${movie.vote_average.toFixed(1)}</span> / <span class=\"movie-votes\">${movie.vote_count}</span>`;\n    moviePopularity.textContent = movie.popularity;\n    movieOriginalTitle.textContent = movie.original_title;\n    movieGenre.textContent = genres;\n    movieAbout.textContent = movie.overview;\n}\nfunction $628a9036296bd1ac$var$saveMovieToSessionStorage(movie) {\n    const sessionKey = \"currentMovie\";\n    sessionStorage.setItem(sessionKey, JSON.stringify(movie));\n}\nfunction $628a9036296bd1ac$var$isMovieInQueue(movie) {\n    let moviesOnQueue = JSON.parse(localStorage.getItem(\"queue\")) || [];\n    return moviesOnQueue.some((item)=>item.id === movie.id);\n}\nfunction $628a9036296bd1ac$var$isMovieInWatchedList(movie) {\n    let moviesOnWatched = JSON.parse(localStorage.getItem(\"watched\")) || [];\n    return moviesOnWatched.some((item)=>item.id === movie.id);\n}\n\n});\n\nvar $f7a5970d4c2bdcfb$exports = {};\n\n(parcelRequire(\"ifJdc\")).register(new URL(\"\", import.meta.url).toString(), JSON.parse('[\"9zqhd\",\"index.7a462c2a.js\",\"2NfRA\",\"no-poster-available.c6ce9600.jpg\"]'));\n\n\n//# sourceMappingURL=index.7a462c2a.js.map\n","\"use strict\";\n\nvar mapping = new Map();\nfunction register(baseUrl, manifest) {\n  for (var i = 0; i < manifest.length - 1; i += 2) {\n    mapping.set(manifest[i], {\n      baseUrl: baseUrl,\n      path: manifest[i + 1]\n    });\n  }\n}\nfunction resolve(id) {\n  var resolved = mapping.get(id);\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n  return new URL(resolved.path, resolved.baseUrl).toString();\n}\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","const queueButton = document.querySelector('.queue-button');\n\nwindow.addEventListener('load', () => {\n  const movie = getMovieDataFromSessionStorage();\n  if (movie) {\n    updateQueueButton(movie);\n  }\n});\n\nqueueButton.addEventListener('click', () => {\n  const movie = getMovieDataFromSessionStorage();\n  if (movie) {\n    if (!isMovieInQueue(movie)) {\n      if (!isMovieInWatchedList(movie)) { \n        addToQueue(movie);\n        displayNotification('Movie added to queue.');\n      } else {\n        displayNotification('Movie already in watched list. Cannot add to queue.');\n      }\n    } else {\n      removeFromQueue(movie);\n      displayNotification('Movie removed from queue.');\n    }\n    updateQueueButton(movie);\n  } else {\n  }\n});\n\nfunction isMovieInWatchedList(movie) {\n  let moviesOnWatched = JSON.parse(localStorage.getItem('watched')) || [];\n  return moviesOnWatched.some(item => item.id === movie.id); \n}\n\nfunction updateQueueButton(movie) {\n  const isInQueue = isMovieInQueue(movie);\n  if (isInQueue) {\n    queueButton.textContent = 'Remove from Queue';\n  } else {\n    queueButton.textContent = 'Add to Queue';\n  }\n}\n\nfunction getMovieDataFromSessionStorage() {\n  const sessionKey = 'currentMovie';\n  const movieData = sessionStorage.getItem(sessionKey);\n  return movieData ? JSON.parse(movieData) : null;\n}\n\nfunction addToQueue(movie) {\n  let moviesOnQueue = JSON.parse(localStorage.getItem('queue')) || [];\n  moviesOnQueue.push(movie);\n  localStorage.setItem('queue', JSON.stringify(moviesOnQueue));\n}\n\nfunction isMovieInQueue(movie) {\n  let moviesOnQueue = JSON.parse(localStorage.getItem('queue')) || [];\n  return moviesOnQueue.some(item => item.id === movie.id);\n}\n\nfunction removeFromQueue(movie) {\n  let moviesOnQueue = JSON.parse(localStorage.getItem('queue')) || [];\n  let updatedQueueList = moviesOnQueue.filter(item => item.id !== movie.id);\n  localStorage.setItem('queue', JSON.stringify(updatedQueueList));\n}\n\nfunction displayNotification(message) {\n  const notification = document.createElement('div');\n  notification.classList.add('notification');\n  notification.textContent = message;\n  document.body.appendChild(notification);\n  setTimeout(() => {\n    notification.remove();\n  }, 3000);\n}","const watchedButton = document.querySelector('.watched-button');\n\nwindow.addEventListener('load', () => {\n  const movie = getMovieDataFromSessionStorage();\n  if (movie && isMovieInWatchedList(movie)) {\n    updateWatchedButton(movie);\n  }\n});\n\nwatchedButton.addEventListener('click', () => {\n  const movie = getMovieDataFromSessionStorage();\n  if (movie) {\n    if (!isMovieInWatchedList(movie)) {\n      if (!isMovieInQueue(movie)) { \n        addToWatched(movie);\n        displayNotification('Movie added to watched list.');\n      } else {\n        displayNotification('Movie already in queue. Cannot add to watched.');\n      }\n    } else {\n      removeFromWatched(movie);\n      displayNotification('Movie removed from watched list.');\n    }\n    updateWatchedButton(movie);\n  } else {\n  }\n});\n\nfunction isMovieInQueue(movie) {\n  let moviesOnQueue = JSON.parse(localStorage.getItem('queue')) || [];\n  return moviesOnQueue.some(item => item.id === movie.id);\n}\n\nfunction updateWatchedButton(movie) {\n  const isInWatched = isMovieInWatchedList(movie);\n  if (isInWatched) {\n    watchedButton.textContent = 'Remove from Watched';\n  } else {\n    watchedButton.textContent = 'Add to Watched';\n  }\n}\n\nfunction getMovieDataFromSessionStorage() {\n  const sessionKey = 'currentMovie';\n  const movieData = sessionStorage.getItem(sessionKey);\n  return movieData ? JSON.parse(movieData) : null;\n}\n\nfunction addToWatched(movie) {\n  let moviesOnWatched = JSON.parse(localStorage.getItem('watched')) || [];\n  moviesOnWatched.push(movie);\n  localStorage.setItem('watched', JSON.stringify(moviesOnWatched));\n}\n\nfunction isMovieInWatchedList(movie) {\n  let moviesOnWatched = JSON.parse(localStorage.getItem('watched')) || [];\n  return moviesOnWatched.some(item => item.id === movie.id); \n}\n\nfunction removeFromWatched(movie) {\n  let moviesOnWatched = JSON.parse(localStorage.getItem('watched')) || [];\n  let updatedWatchedList = moviesOnWatched.filter(item => item.id !== movie.id);\n  localStorage.setItem('watched', JSON.stringify(updatedWatchedList));\n}\n\nfunction displayNotification(message) {\n  const notification = document.createElement('div');\n  notification.classList.add('notification');\n  notification.textContent = message;\n  document.body.appendChild(notification);\n  setTimeout(() => {\n    notification.remove();\n  }, 3000);\n}\n","const apiKey = 'ddd78f0e80e0d30735adfd081ca2dc47';\nconst apiUrl = `https://api.themoviedb.org/3/movie/popular?api_key=${apiKey}`;\nimport imageOne from '../assets/no-poster-available.jpg'; //import zdjecia z assets\nconst loader = document.querySelector('.loader');\nconst footer = document.querySelector('footer');\nlet currentSearchKeyword = '';\n\n\n\nexport async function getMovieDetails(movieId) {\n  const url = `https://api.themoviedb.org/3/movie/${movieId}?api_key=${apiKey}&language=en-US`;\n  try {\n    const response = await fetch(url);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    return null;\n  }\n}\n\nasync function getPopularMovies(page = 1) {\n  const urlWithPage = `${apiUrl}&page=${page}`;\n  loader.classList.remove('hidden');\n  footer.classList.add('hidden');\n  try {\n    await new Promise(resolve => setTimeout(resolve, 500));\n    const response = await fetch(urlWithPage);\n    const data = await response.json();\n    const movies = data.results;\n    const detailedMovies = await Promise.all(\n      movies.map(async movie => {\n        const details = await getMovieDetails(movie.id);\n        return { ...movie, ...details };\n      }),\n    );\n    loader.classList.add('hidden');\n    footer.classList.remove('hidden');\n    return { movies: detailedMovies, totalPages: data.total_pages };\n  } catch (error) {\n    return { movies: [], totalPages: 0 };\n  }\n}\n\nexport function renderMovieCard(movie) {\n  const movieItem = document.createElement('div');\n  movieItem.classList.add('movie-item');\n  movieItem.style.cursor = 'pointer';\n  movieItem.setAttribute('data-modal', '');\n  movieItem.setAttribute('data-id', movie.id);\n\n  const moviePoster = document.createElement('img');\n  if (movie.poster_path) {\n    moviePoster.src = `https://image.tmdb.org/t/p/w500${movie.poster_path}`;\n    moviePoster.alt = movie.title;\n  } else {\n    moviePoster.src = imageOne; // jesli sciezka obrazu nie jest dostepna uzyj zimportowanego obrazu, Bartosz K\n    moviePoster.alt = 'no image';\n  }\n  movieItem.appendChild(moviePoster);\n\n  const contentWrapper = document.createElement('div'); // Nowy div z zawartością p, Bartosz K\n  contentWrapper.classList.add('content-wrapper');\n\n  const movieTitle = document.createElement('h2');\n  movieTitle.textContent = movie.title;\n  movieItem.appendChild(movieTitle);\n\n  const genreNames = movie.genres.map(genre => {\n    return genre.name === 'Science Fiction' ? 'Sci-Fi' : genre.name; // Warunek, aby w przypadku pełnej nazwy okrągło do skrótu, Bartosz K\n  });\n\n  let movieGenresText = '';\n  if (genreNames.length > 2) {\n    movieGenresText = `${genreNames.slice(0, 2).join(', ')}, Other`; // Pokaż dwa pierwsze gatunki i dodaj \" + other\"\n  } else {\n    movieGenresText = genreNames.join(', ');\n  }\n\n  const movieGenres = document.createElement('p');\n  movieGenres.textContent = movieGenresText;\n  contentWrapper.appendChild(movieGenres);\n\n  const movieYear = document.createElement('p');\n  const releaseYear = new Date(movie.release_date).getFullYear();\n  movieYear.textContent = `| ${releaseYear}`; // Dodanie znaku \"|\" , Bartosz K\n  movieYear.classList.add('movie-year');\n  contentWrapper.appendChild(movieYear);\n\n  movieItem.appendChild(contentWrapper);\n\n  const movieRating = document.createElement('p');\n  const rating = movie.vote_average.toFixed(1);\n  movieRating.textContent = `${rating}`;\n  movieItem.appendChild(movieRating);\n  contentWrapper.appendChild(movieRating);\n  movieRating.classList.add('main-rating'); // Dodaje klasę, aby schować element w głównym, Bartosz K\n\n  return movieItem;\n}\n\nexport function displayMovies(movies) {\n  const filmList = document.querySelector('.film-list');\n  filmList.innerHTML = '';\n\n  const movieItems = movies.map(movie => renderMovieCard(movie));\n\n  filmList.append(...movieItems);\n}\n\nfunction scrollToTop() {\n  window.scrollTo({ top: 0, behavior: 'smooth' }); // Funkcja przenosząca nas na góre strony (dodane w celu ulatwienia szukania filmow), Bartosz K\n}\n\n//Ładowanie filmow na stronie//\n\nasync function loadMoviesPage(page) {\n  if (!currentSearchKeyword) {\n    //jeśli nie istnieje wyszukiwana fraza\n    if (window.location.pathname === '/my-library.html') {\n      const movies = []; //w my-library nie laduj popularnych filmow (nie nadpisuje wtedy filmow watched i queue), Bartosz K\n      displayMovies(movies);\n      scrollToTop();\n    } else {\n      const { movies, totalPages } = await getPopularMovies(page); //to ładuj popularne filmy, Bartosz K\n      displayMovies(movies);\n      renderPagination(totalPages, page);\n      scrollToTop();\n    }\n  } else {\n    const { movies, totalPages } = await searchMovies(currentSearchKeyword, page); // w przeciwnym razie wyszukuj filmy po wpisanej frazie, Bartosz K\n    displayMovies(movies);\n    renderPagination(totalPages, page);\n    scrollToTop();\n  }\n}\nasync function main() {\n  if (\n    window.location.pathname.includes('/index.html') ||\n    window.location.pathname === '/' ||\n    window.location.href === 'https://kpiskorz27.github.io/goit-js-gp-filmoteka/'\n  )\n    loadMoviesPage(1);\n}\n\nwindow.addEventListener('load', main);\n\n// PAGINACJA //\n\nexport function renderPagination(totalPages, currentPage) {\n  const paginationContainer = document.querySelector('.pagination');\n  paginationContainer.innerHTML = '';\n\n  const isMobile = window.innerWidth < 768; // paginacja dla strony mobilnejm, Bartosz K\n\n  if (isMobile) { \n    let startPage = currentPage > 2 ? currentPage - 2 : 1;\n    let endPage = Math.min(startPage + 4, totalPages); // maksymalnie ma wyswietlac sie tylko 5 przyciskow, Bartosz K\n\n    if (totalPages <= 5) {\n      endPage = totalPages;\n    } else if (currentPage > totalPages - 2) {\n      startPage = totalPages - 4;\n      endPage = totalPages;\n    }\n\n    const firstPageButton = document.createElement('button');\n    firstPageButton.innerHTML = `\n      <svg class=\"icon icon-arrow-left\" viewBox=\"0 0 32 32\" width=\"18\" height=\"20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2.667\" d=\"M25.333 16H6.666M16 25.333 6.667 16 16 6.667\" style=\"stroke:var(--color2, #000)\"/>\n      </svg>\n    `;\n    firstPageButton.style.cursor = 'pointer';\n    firstPageButton.classList.add('page-button', 'first-button');\n    if (currentPage > 1)\n      firstPageButton.addEventListener('click', () => {\n        loadMoviesPage(currentPage - 1);\n        toggleNotification(false);\n      });\n    paginationContainer.appendChild(firstPageButton);\n\n    for (let page = startPage; page <= endPage; page++) {\n      const pageButton = document.createElement('button');\n      pageButton.textContent = page;\n      pageButton.style.cursor = 'pointer';\n      pageButton.classList.add('page-button');\n      if (page === currentPage) {\n        pageButton.classList.add('active');\n      }\n      pageButton.addEventListener('click', () => {\n        loadMoviesPage(page);\n        toggleNotification(false);\n      });\n      paginationContainer.appendChild(pageButton);\n    }\n\n    if (endPage < totalPages) { \n      const lastPageButton = document.createElement('button');\n      lastPageButton.innerHTML = `\n        <svg class=\"icon icon-arrow-right\" viewBox=\"0 0 32 32\" width=\"18\" height=\"20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2.667\" d=\"M6.667 16h18.667M16 25.333l9.333-9.333-9.333-9.333\" style=\"stroke:var(--color2, #000)\"/>\n        </svg>\n      `;\n      lastPageButton.classList.add('page-button', 'last-button');\n      lastPageButton.style.cursor = 'pointer';\n      lastPageButton.addEventListener('click', () => {\n        const nextPage = Math.min(currentPage + 1, totalPages);\n        loadMoviesPage(nextPage);\n        toggleNotification(false);\n      });\n      paginationContainer.appendChild(lastPageButton);\n    }\n  } \n  \n  //paginacja dla tablet i desktop\n  \n  else { \n\n  const visiblePages = 5;\n  const maxButtonsToShow = 1000;\n  const increment = 15;\n\n  let startPage = 1;\n  let endPage = Math.min(startPage + visiblePages - 1, totalPages);\n\n  if (totalPages > visiblePages) {\n    const half = Math.floor(visiblePages / 2);\n    startPage = Math.max(currentPage - half, 1);\n    endPage = startPage + visiblePages - 1;\n    if (endPage >= maxButtonsToShow) {\n      endPage = maxButtonsToShow;\n      startPage = Math.max(endPage - visiblePages + 1, 1);\n    }\n  }\n\n  const firstPageButton = document.createElement('button');\n  firstPageButton.innerHTML = `\n    <svg class=\"icon icon-arrow-left\" viewBox=\"0 0 32 32\" width=\"18\" height=\"20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2.667\" d=\"M25.333 16H6.666M16 25.333 6.667 16 16 6.667\" style=\"stroke:var(--color2, #000)\"/>\n    </svg>\n`;\n\n  firstPageButton.style.cursor = 'pointer';\n  firstPageButton.classList.add('page-button', 'first-button');\n  if (currentPage > 1)\n    //sprawdza czy aktualna strona nie jest pierwsza strone, zapobiega loopowi, Bartosz K\n    firstPageButton.addEventListener('click', () => {\n      loadMoviesPage(currentPage - 1);\n      toggleNotification(false);\n    });\n  paginationContainer.appendChild(firstPageButton);\n\n  if (startPage > 1) {\n    const firstPage = document.createElement('button');\n    firstPage.textContent = 1;\n    firstPage.style.cursor = 'pointer';\n    firstPage.classList.add('page-button');\n    firstPage.addEventListener('click', () => {\n      loadMoviesPage(1);\n      toggleNotification(false);\n    });\n    paginationContainer.appendChild(firstPage);\n\n    if (startPage > 2) {\n      const ellipsis1 = document.createElement('span');\n      ellipsis1.textContent = '...';\n      ellipsis1.classList.add('ellipsis-span');\n      paginationContainer.appendChild(ellipsis1);\n    }\n  }\n\n  for (let page = startPage; page <= endPage; page++) {\n    const pageButton = document.createElement('button');\n    pageButton.textContent = page;\n    pageButton.style.cursor = 'pointer';\n    pageButton.classList.add('page-button');\n    if (page === currentPage) {\n      pageButton.classList.add('active');\n    }\n    pageButton.addEventListener('click', () => {\n      loadMoviesPage(page);\n      toggleNotification(false);\n    });\n    paginationContainer.appendChild(pageButton);\n  }\n\n  if (endPage < totalPages) {\n    if (endPage < totalPages - 1) {\n      const ellipsis2 = document.createElement('span');\n      ellipsis2.textContent = '...';\n      ellipsis2.classList.add('ellipsis-span');\n      paginationContainer.appendChild(ellipsis2);\n    }\n\n    const lastPage = Math.min(endPage + increment, totalPages);\n\n    const lastPageButton = document.createElement('button');\n    lastPageButton.style.cursor = 'pointer';\n    lastPageButton.textContent = lastPage;\n    lastPageButton.classList.add('page-button');\n    lastPageButton.addEventListener('click', () => {\n      loadMoviesPage(lastPage);\n    });\n    paginationContainer.appendChild(lastPageButton);\n  }\n\n  const lastPageButton = document.createElement('button');\n  lastPageButton.innerHTML = `\n      <svg class=\"icon icon-arrow-right\" viewBox=\"0 0 32 32\" width=\"18\" height=\"20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2.667\" d=\"M6.667 16h18.667M16 25.333l9.333-9.333-9.333-9.333\" style=\"stroke:var(--color2, #000)\"/>\n      </svg>\n  `;\n  lastPageButton.classList.add('page-button', 'last-button');\n  lastPageButton.style.cursor = 'pointer';\n  lastPageButton.addEventListener('click', () => {\n    const nextPage = Math.min(currentPage + 1, totalPages);\n    loadMoviesPage(nextPage);\n    toggleNotification(false);\n  });\n\n  paginationContainer.appendChild(lastPageButton);\n}\n}\n\n//WYSZUKIWANIE FILMOW//\nconst filmContainer = document.querySelector('.film-container');\nasync function searchMovies(keyword, page = 1) {\n  const url = `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&query=${encodeURIComponent(\n    keyword,\n  )}&page=${page}`;\n  try {\n    filmContainer.classList.add('hidden');\n    footer.classList.add('hidden');\n    loader.classList.remove('hidden');\n    const response = await fetch(url);\n    const data = await response.json();\n    const movies = data.results;\n    const detailedMovies = await Promise.all(\n      movies.map(async movie => {\n        const details = await getMovieDetails(movie.id);\n        return { ...movie, ...details };\n      }),\n    );\n    setTimeout(() => {\n      loader.classList.add('hidden');\n    }, 250);\n    setTimeout(() => {\n      filmContainer.classList.remove('hidden');\n      footer.classList.remove('hidden');\n    }, 300);\n    return { movies: detailedMovies, totalPages: data.total_pages };\n  } catch (error) {\n    return { movies: [], totalPages: 0 };\n  }\n}\n\nfunction toggleNotification(flag) {\n  const notifyEl = document.getElementById('error-message');\n  if (flag) {\n    notifyEl.style.opacity = '1';\n  } else {\n    notifyEl.style.opacity = '0';\n  }\n}\n\nasync function handleSearch(keyword, page = 1) {\n  currentSearchKeyword = keyword;\n  if (keyword.trim() === '') {\n    // jesli wyszukiwarka jest pusta, laduje popularne filmy,Bartosz K\n    await loadMoviesPage(page);\n  } else {\n    const { movies, totalPages } = await searchMovies(keyword, page);\n    if (movies.length === 0) {\n      toggleNotification(true); // Pokazuje komunikat jesli nie znalazlo filmu, Bartosz K\n      currentSearchKeyword = ''; //odswieza wyszukiwanie po nacisnieciu na przycisk paginacji, Bartosz K\n      document.querySelector('.search-input').value = ''; // czysci wyszukiwarke z nieznalezionego tytulu, Bartosz K\n    } else {\n      toggleNotification(false);\n      displayMovies(movies);\n      renderPagination(totalPages, page);\n    }\n  }\n}\n\nconst searchForm = document.querySelector('.search-form');\nif (searchForm) {\n  searchForm.addEventListener('submit', function (event) {\n    event.preventDefault();\n    const keyword = document.querySelector('.search-input').value;\n    handleSearch(keyword, 1);\n  });\n}\n\n\n","module.exports = new __parcel__URL__(\"no-poster-available.c6ce9600.jpg\").toString();","import { getMovieDetails } from './pagination';\n\nconst movieModal = document.querySelector('.movie-modal');\nconst overlay = document.querySelector('.movie-backdrop');\nconst closeBtn = document.querySelector('.modal-close-btn');\nconst modalImg = document.querySelector('.movie-image');\nconst loaderModal = document.querySelector('.loader_modal_container');\nconst queueButton = document.querySelector('.queue-button');\nconst watchedButton = document.querySelector('.watched-button');\n\nasync function openModal(event) {\n  event.preventDefault();\n  setTimeout(() => {\n    overlay.classList.remove('is-hidden');\n    movieModal.classList.remove('is-hidden');\n    loaderModal.classList.remove('hidden');\n  }, 100);\n  closeBtn.addEventListener('click', closeModal);\n}\n\nfunction closeModal(event) {\n  event.preventDefault();\n  overlay.classList.add('is-hidden');\n  movieModal.classList.add('is-hidden');\n  removeEventListeners();\n}\n\nfunction escExit(event) {\n  const escKey = 'Escape';\n  if (event.code === escKey) {\n    closeModal(event);\n  }\n}\n\nfunction removeEventListeners() {\n  document.removeEventListener('keydown', escExit);\n  overlay.removeEventListener('click', closeModal);\n  closeBtn.removeEventListener('click', closeModal);\n}\n\ndocument.addEventListener('click', function (event) {\n  const target = event.target;\n  if (target.classList.contains('movie-backdrop')) {\n    closeModal(event);\n  }\n});\n\nwindow.addEventListener('keydown', escExit);\n\nfunction cardSelection() {\n  const allMovies = document.querySelectorAll('.film-list');\n\n  if (allMovies.length) {\n    allMovies.forEach(movie => {\n      movie.addEventListener('click', function (event) {\n        const target = event.target.closest('.movie-item');\n\n        if (target) {\n          const movieId = target.dataset.id;\n\n          const cardPoster = target.querySelector('img').getAttribute('src');\n\n          modalImg.setAttribute('src', cardPoster);\n          getMovieDetails(movieId).then(movie => {\n\n            const isInQueue = isMovieInQueue(movie);\n\n            if (isInQueue) {\n              queueButton.textContent = 'Remove from Queue';\n            } else {\n              queueButton.textContent = 'Add to Queue';\n            }\n\n            const isInWatched = isMovieInWatchedList(movie);\n            if (isInWatched) {\n              watchedButton.textContent = 'Remove from Watched';\n            } else {\n              watchedButton.textContent = 'Add to Watched';\n            }\n\n            saveMovieToSessionStorage(movie); // zapisuje film do sesji, Bartosz K\n            movieModalData(movie);\n            openModal(event);\n            setTimeout(() => {\n              loaderModal.classList.add('hidden');\n            }, 500);\n          });\n        }\n      });\n    });\n  } else {\n    setTimeout(cardSelection, 1000);\n  }\n}\n\ncardSelection();\n\nfunction movieModalData(movie) {\n  const movieTitle = movieModal.querySelector('.movie-title');\n  const movieAverageRate = movieModal.querySelector('.average-rate');\n  const movieAllVote = movieModal.querySelector('.total-vote');\n  const moviePopularity = movieModal.querySelector('.movie-popularity');\n  const movieOriginalTitle = movieModal.querySelector('.movie-original-title');\n  const movieGenre = movieModal.querySelector('.movie-genre');\n  const movieAbout = movieModal.querySelector('.movie-about-par');\n  const genres = movie.genres.map(genre => genre.name).join(', ');\n  movieGenre.textContent = genres;\n\n  movieTitle.textContent = movie.title;\n\n  movieAllVote.innerHTML = `<span class=\"movie-average-rate\">${movie.vote_average.toFixed(\n    1,\n  )}</span> / <span class=\"movie-votes\">${movie.vote_count}</span>`;\n  moviePopularity.textContent = movie.popularity;\n  movieOriginalTitle.textContent = movie.original_title;\n  movieGenre.textContent = genres;\n  movieAbout.textContent = movie.overview;\n}\n\nfunction saveMovieToSessionStorage(movie) {\n  const sessionKey = 'currentMovie';\n  sessionStorage.setItem(sessionKey, JSON.stringify(movie));\n}\n\nfunction isMovieInQueue(movie) {\n  let moviesOnQueue = JSON.parse(localStorage.getItem('queue')) || [];\n  return moviesOnQueue.some(item => item.id === movie.id);\n}\n\nfunction isMovieInWatchedList(movie) {\n  let moviesOnWatched = JSON.parse(localStorage.getItem('watched')) || [];\n  return moviesOnWatched.some(item => item.id === movie.id);\n}\n","require('./helpers/bundle-manifest').register(new __parcel__URL__(\"\").toString(),JSON.parse(\"[\\\"9zqhd\\\",\\\"index.7a462c2a.js\\\",\\\"2NfRA\\\",\\\"no-poster-available.c6ce9600.jpg\\\"]\"));"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","$d49cb2d7b03f6a77$export$6503ec6e8aabbaf","$d49cb2d7b03f6a77$var$mapping","Map","baseUrl","manifest","i","length","path","$43e861e6fa9e2259$var$queueButton","document","querySelector","$43e861e6fa9e2259$var$updateQueueButton","movie","$43e861e6fa9e2259$var$isMovieInQueue","textContent","$43e861e6fa9e2259$var$getMovieDataFromSessionStorage","movieData","sessionStorage","getItem","JSON","parse","moviesOnQueue","localStorage","some","item","$43e861e6fa9e2259$var$displayNotification","message","notification","createElement","classList","add","body","appendChild","setTimeout","remove","window","addEventListener","updatedQueueList","filter","setItem","stringify","moviesOnWatched","push","$294e448af5eedd63$var$watchedButton","$294e448af5eedd63$var$updateWatchedButton","$294e448af5eedd63$var$isMovieInWatchedList","$294e448af5eedd63$var$getMovieDataFromSessionStorage","$294e448af5eedd63$var$displayNotification","updatedWatchedList","$baa48fd5a30d32e8$export$e7daf9f9f7371f9a","$PP2np","$baa48fd5a30d32e8$var$apiKey","$baa48fd5a30d32e8$var$apiUrl","$baa48fd5a30d32e8$var$loader","$baa48fd5a30d32e8$var$footer","$baa48fd5a30d32e8$var$currentSearchKeyword","movieId","url","response","fetch","json","error","$baa48fd5a30d32e8$var$getPopularMovies","page","urlWithPage","Promise","resolve","data","movies","results","detailedMovies","all","map","details","totalPages","total_pages","$baa48fd5a30d32e8$export$80c33a899040816b","filmList","innerHTML","movieItems","$baa48fd5a30d32e8$export$605b145a07818080","movieItem","style","cursor","setAttribute","moviePoster","poster_path","src","alt","title","a","__esModule","default","contentWrapper","movieTitle","genreNames","genres","genre","name","movieGenresText","slice","join","movieGenres","movieYear","releaseYear","Date","release_date","getFullYear","movieRating","rating","vote_average","toFixed","append","$baa48fd5a30d32e8$var$scrollToTop","scrollTo","top","behavior","$baa48fd5a30d32e8$var$loadMoviesPage","$baa48fd5a30d32e8$var$searchMovies","$baa48fd5a30d32e8$export$825408fbca4f2040","location","pathname","$baa48fd5a30d32e8$var$main","includes","href","currentPage","paginationContainer","innerWidth","startPage","endPage","Math","min","firstPageButton","$baa48fd5a30d32e8$var$toggleNotification","pageButton","lastPageButton","max","floor","visiblePages","firstPage","ellipsis1","ellipsis2","lastPage","$baa48fd5a30d32e8$var$filmContainer","keyword","encodeURIComponent","flag","notifyEl","getElementById","opacity","$baa48fd5a30d32e8$var$handleSearch","trim","value","$baa48fd5a30d32e8$var$searchForm","event","preventDefault","URL","toString","$g1uI7","$628a9036296bd1ac$var$movieModal","$628a9036296bd1ac$var$overlay","$628a9036296bd1ac$var$closeBtn","$628a9036296bd1ac$var$modalImg","$628a9036296bd1ac$var$loaderModal","$628a9036296bd1ac$var$queueButton","$628a9036296bd1ac$var$watchedButton","$628a9036296bd1ac$var$openModal","$628a9036296bd1ac$var$closeModal","removeEventListener","$628a9036296bd1ac$var$escExit","target","contains","$628a9036296bd1ac$var$cardSelection","allMovies","querySelectorAll","forEach","closest","dataset","cardPoster","getAttribute","getMovieDetails","then","$628a9036296bd1ac$var$movieModalData","movieAllVote","moviePopularity","movieOriginalTitle","movieGenre","movieAbout","vote_count","popularity","original_title","overview"],"version":3,"file":"index.7a462c2a.js.map"}